{% extends "layout.njk" %}

{% block head %}
    <title>Les Carmidor - Trigger warnings</title>
    <meta name="description" content="La liste des trigger warnings ou avertissements de contenu dans Les Carmidor, tous tomes confondus et détaillés par tomes." />
{% endblock %}

{% block content %}
    {% from 'nav.njk' import nav %}
    {{nav()}}

    <main>
        <section class="banner-gradient banner-gradient--dark-secondary">
            <div class="container container--wrap-reverse">
                <article class="maxwidth--sm text--margin-sm">
                    <h1 class="title--header">Trigger warnings</h1>

                    <p><em>Les Carmidor</em> aborde de nombreux sujets qui pourraient réveiller des traumatismes chez certains lecteurs.</p>
                    <p>Si vous en ressentez le besoin, consultez les listes d’avertissements ci-dessous.</p>
                
                    <div class="buttons">
                        <a href="#tw-par-tome" class="link link--white">
                            Par tome
                        </a>

                        <a href="#tous-les-tw" class="button button--white button--active-secondary">
                            Tous les TW
                        </a>
                    </div>
                </article>

                <img src="/img/medias/all-paperback.png" class="img img--sm" alt="Les Carmidor, tous les tomes (format broché)" />
            </div>

            {% include 'svg/wave.svg' %}
        </section>

        <section class="container" id="tous-les-tw">
            <article class="text--center text--margin-sm maxwidth--md">
                <h2 class="title--header">Tous les avertissements</h2>

                <p>Les thèmes sensibles abordés dans la saga, tous tomes confondus.</p>
                <p class="margin-bottom--xl text--secondary"><small>Malgré toute l’attention portée à la rédaction de cette liste, des oublis demeurent possibles. N’hésitez pas à en faire part à l’autrice si vous en remarquez.</small></p>

                <ul class="list-centered text--sm">
                    {% for tw, tomes in triggerwarnings %}
                    <li>
                        {{ tw }}
                    </li>
                    {% endfor %}
                </ul>
            </article>
        </section>

        <section id="tw-par-tome">
            <div class="container">
                <aside class="maxwidth--lg text--center padding-bottom--xs">
                    <h2 class="title--header margin-bottom--xs">Avertissements par tome</h2>
                </aside>
            </div>

            <div class="container container--flex-start margin-bottom--md">
                {% for number, book in books %}
                    <article class="card card--white text--sm">
                        <img src="/img/medias/t{{ number }}-paperback.png" class="img img--sm centered" alt="Tome {{ number }} : {{ book.title }} (format broché)" />

                        <h3 class="title--underline title--underline--secondary margin-top--xs">Tome&nbsp;<span>{{ number }}</span></h3>

                        <ul class="list-centered">
                            {% for tw, tomes in triggerwarnings %}{% for tome in tomes %}{% if number == tome %}
                                <li>{{ tw }}</li>
                            {% endif %}{% endfor %}{% endfor %}
                        <ul>
                    </article>
                {% endfor %}
            </div>            
        </section>
    </main>

    {% include 'footer.njk' %}
{% endblock %}